<div class="auth-container">
  <div class="auth-card">

    <h2>{{ isLoginMode ? 'Connexion Client' : 'Inscription' }}</h2>

    <form [formGroup]="authForm" (ngSubmit)="onSubmit()">

      <div class="form-group">
        <label>{{ isLoginMode ? 'Code Client' : 'Nom complet' }}</label>
        <input
          type="text"
          formControlName="identifier"
          [placeholder]="isLoginMode ? 'Ex: 12345678' : 'Votre nom'"
        />
      </div>

      <div class="form-group">
        <label>Mot de passe</label>

        <!-- Champ mot de passe + croix -->
        <div class="password-wrapper">
          <input
            type="password"
            formControlName="password"
            readonly
            class="password-display"
          />

          <button
            type="button"
            class="clear-btn"
            *ngIf="enteredPassword.length > 0"
            (click)="clearPassword()"
            aria-label="Effacer le mot de passe"
          >
            ✕
          </button>
        </div>

        <!-- Pavé numérique -->
        <div class="keypad">
          <button
            type="button"
            class="key"
            *ngFor="let key of keypad"
            (click)="onKeyPress(key)"
            [disabled]="key === ''"
          >
            {{ key }}
          </button>
        </div>
      </div>

      <button type="submit" class="btn-primary">
        {{ isLoginMode ? 'Se connecter' : 'Créer mon compte' }}
      </button>
    </form>

    <div class="toggle-section">
      <button type="button" class="btn-link" (click)="toggleMode()">
        {{ isLoginMode ? "Pas de compte ? S'inscrire" : "Déjà client ? Se connecter" }}
      </button>
    </div>

  </div>
</div>
